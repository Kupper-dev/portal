(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[245],{663:(e,n,a)=>{Promise.resolve().then(a.bind(a,8697))},8697:(e,n,a)=>{"use strict";a.d(n,{default:()=>r});var o=a(5155),m=a(2115),p=a(352),s=a(7260),t=a(7358);function r(e){let{initialEmail:n,loginType:a}=e,r=(0,s.useRouter)(),[l,i]=(0,m.useState)(!1),[y,c]=(0,m.useState)({name:"",surname:"",companyName:"",phone:"",employees:""}),u=e=>n=>{c(a=>({...a,[e]:n.target.value}))},C=e=>{c(n=>({...n,employees:e}))},h=async e=>{e&&e.preventDefault(),i(!0);try{let e="".concat(y.name," ").concat(y.surname).trim(),n=t.env.NEXT_PUBLIC_BASE_PATH||"/app",a=await fetch("".concat(n,"/api/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,companyName:y.companyName,phone:y.phone,employees:y.employees})});if(a.ok){let e=await a.json();r.push(e.redirect||"/app"),r.refresh()}else alert("Registration failed. Please try again.")}catch(e){console.error(e),alert("An error occurred.")}finally{i(!1)}};return(0,o.jsx)(p.SignupForm,{signUpCustomerName:{value:y.name,onChange:u("name")},companyEmployeesCustomerSurnames:{value:y.surname,onChange:u("surname")},signUpCompanyName:{value:y.companyName,onChange:u("companyName")},signUpCustomerPhone:{value:y.phone,onChange:u("phone")},signUpCompleteRegisterButton:{onClick:e=>h(e),value:l?"Registering...":"Complete Registration"},companyEmployeesCompany110Employees:{onClick:()=>C("1-10")},companyEmployeesCompany1120Employees:{onClick:()=>C("11-20")},companyEmployeesCompany2150Employees:{onClick:()=>C("21-50")},companyEmployeesCompany51OrMoreEmployees:{onClick:()=>C("51+")}})}}},e=>{e.O(0,[352,441,255,358],()=>e(e.s=663)),_N_E=e.O()}]);